{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/blockchain_project/src/components/Grosir/GreenBean/DaftarGreenBean.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect } from \"react\";\nimport showResults from \"../../showResults/showResults\";\nimport DaftarGreenBeanForm from \"./DaftarGreenBeanForm\";\nimport UserService from \"../../../services/user.service\";\nimport Web3 from \"web3\";\nimport { AddProduct } from \"../../../abi/abi\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport QRcode from \"qrcode.react\";\nimport { sha256 } from \"js-sha256\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nrequire(\"dotenv\").config();\n\nconst HDWalletProvider = require(\"@truffle/hdwallet-provider\");\n\nconst DaftarGreenBean = props => {\n  _s();\n\n  const code = props.code;\n  const [files, imageFile] = useState(\"\");\n  const [filesGambar, imageFileGambar] = useState(\"\");\n  const [balance, setBalance] = useState(0);\n  const [account, setAccount] = useState(\"\");\n  const [pindah, setPindah] = useState(false);\n  const [lat, setLat] = useState(\"\");\n  const [long, setLong] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [currencyID, setCurrencyID] = useState([]);\n\n  const onLatChange = latitude => {\n    setLat(latitude);\n  };\n\n  const onLongChange = longitude => {\n    setLong(longitude);\n  };\n\n  const handleSubmit = async values => {\n    console.log('cek value', values); // cek batch number\n\n    if (values.po_number && values.sku && values.batch && values.harvesting_year && values.farm && values.species && values.process && values.variety && values.volume_order) {\n      const formData = new FormData();\n      formData.append(\"po_number\", values.po_number);\n      formData.append(\"batch\", values.batch);\n      formData.append(\"farm\", values.farm);\n      formData.append(\"harvesting_year\", values.harvesting_year);\n      formData.append(\"sku\", values.sku);\n      formData.append(\"species\", values.species);\n      formData.append(\"process\", values.process);\n      formData.append(\"variety\", values.variety);\n      formData.append(\"volume_order\", values.volume_order);\n      await UserService.addBatchGreenBean(formData).then(response => {\n        console.log('cek response', response);\n\n        if (response.data.massage) {\n          showResults(`${response.data.massage}`);\n        } else {\n          showResults(\"Data has been added\");\n          setPindah(true);\n        }\n      });\n    } else {\n      showResults(\"Please fill all the fields\");\n    }\n  };\n\n  if (pindah === true) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/listGreenBean\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(DaftarGreenBeanForm, {\n        onSubmit: handleSubmit,\n        onSelectLat: onLatChange,\n        onSelectLong: onLongChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(DaftarGreenBean, \"wAJAZ0Oo9afBOZripiF1XLU2NFA=\");\n\n_c = DaftarGreenBean;\nexport default DaftarGreenBean;\n\nvar _c;\n\n$RefreshReg$(_c, \"DaftarGreenBean\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/blockchain_project/src/components/Grosir/GreenBean/DaftarGreenBean.js"],"names":["Fragment","useState","useEffect","showResults","DaftarGreenBeanForm","UserService","Web3","AddProduct","Redirect","useHistory","QRcode","sha256","require","config","HDWalletProvider","DaftarGreenBean","props","code","files","imageFile","filesGambar","imageFileGambar","balance","setBalance","account","setAccount","pindah","setPindah","lat","setLat","long","setLong","data","setData","currencyID","setCurrencyID","onLatChange","latitude","onLongChange","longitude","handleSubmit","values","console","log","po_number","sku","batch","harvesting_year","farm","species","process","variety","volume_order","formData","FormData","append","addBatchGreenBean","then","response","massage"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\nimport showResults from \"../../showResults/showResults\";\nimport DaftarGreenBeanForm from \"./DaftarGreenBeanForm\";\nimport UserService from \"../../../services/user.service\";\nimport Web3 from \"web3\";\nimport { AddProduct } from \"../../../abi/abi\";\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nimport QRcode from \"qrcode.react\";\nimport { sha256 } from \"js-sha256\";\n\nrequire(\"dotenv\").config();\n\nconst HDWalletProvider = require(\"@truffle/hdwallet-provider\");\n\nconst DaftarGreenBean = (props) => {  \n\n  const code = props.code;\n\n  const [files, imageFile] = useState(\"\");\n  const [filesGambar, imageFileGambar] = useState(\"\");\n  const [balance, setBalance] = useState(0);\n  const [account, setAccount] = useState(\"\");\n  const [pindah, setPindah] = useState(false);\n  const [lat, setLat] = useState(\"\");\n  const [long, setLong] = useState(\"\");\n  const [data, setData] = useState([]);\n\n  const [currencyID, setCurrencyID] = useState([]);  \n\n  const onLatChange = (latitude) => {\n    setLat(latitude);\n  };\n\n  const onLongChange = (longitude) => {\n    setLong(longitude);\n  };\n\n  const handleSubmit = async (values) => {\n    console.log('cek value', values);\n    // cek batch number\n\n    if(values.po_number &&\n      values.sku &&\n      values.batch &&\n      values.harvesting_year &&\n      values.farm &&\n      values.species &&\n      values.process &&\n      values.variety &&\n      values.volume_order\n    ){\n      const formData = new FormData();\n      formData.append(\"po_number\", values.po_number);\n      formData.append(\"batch\", values.batch);\n      formData.append(\"farm\", values.farm);\n      formData.append(\"harvesting_year\", values.harvesting_year);\n      formData.append(\"sku\", values.sku);\n      formData.append(\"species\", values.species);\n      formData.append(\"process\", values.process);\n      formData.append(\"variety\", values.variety);\n      formData.append(\"volume_order\", values.volume_order);\n\n      await UserService.addBatchGreenBean(formData).then((response) => {\n        console.log('cek response', response);\n        if(response.data.massage) {\n          showResults(`${response.data.massage}`);\n        } else {\n          showResults(\"Data has been added\");\n          setPindah(true);\n        }\n      });\n    } else {\n      showResults(\"Please fill all the fields\");\n    }\n  }\n  \n\n  if (pindah === true) {\n\n    return <Redirect to=\"/listGreenBean\" />;\n\n  } else {\n\n    return (\n      <Fragment>\n        <DaftarGreenBeanForm\n          onSubmit={handleSubmit}\n          onSelectLat={onLatChange}\n          onSelectLong={onLongChange}\n        />\n      </Fragment>\n    );\n\n  }\n};\nexport default DaftarGreenBean;\n"]},"metadata":{},"sourceType":"module"}