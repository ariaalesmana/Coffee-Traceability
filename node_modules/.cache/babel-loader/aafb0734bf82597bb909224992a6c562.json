{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/Coffee-Traceability/src/components/Grosir/Supplier/DaftarSupplier.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, React, useState } from \"react\";\nimport DaftarSupplierForm from \"./DaftarSupplierForm\";\nimport showResults from \"../../showResults/showResults\";\nimport UserService from \"../../../services/user.service\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DaftarSupplier = () => {\n  _s();\n\n  const [files, imageFile] = useState(\"\");\n  const [lat, setLat] = useState(\"\");\n  const [long, setLong] = useState(\"\");\n  const [pindah, setPindah] = useState(false);\n\n  const onFileChange = file => {\n    imageFile(file);\n  };\n\n  const onLatChange = latitude => {\n    setLat(latitude);\n  };\n\n  const onLongChange = longitude => {\n    setLong(longitude);\n  };\n\n  const handleSubmit = values => {\n    const formData = new FormData();\n    console.log('cek values', values);\n    formData.append(\"nama_supplier\", values.nama_supplier);\n    formData.append(\"lokasi_supplier\", values.lokasi_supplier);\n    formData.append(\"nama_petani\", values.nama_petani); // formData.append(\"latitude\", values.latitude);\n    // formData.append(\"longitude\", values.longitude);\n\n    formData.append(\"latitude\", parseFloat(values.latitude));\n    formData.append(\"longitude\", parseFloat(values.longitude));\n    formData.append(\"link_maps\", values.linkMaps); // kopi ketjil minta inputan ini dihilangkan karena tidak perlu\n    // formData.append(\"estimatedProduction\", values.estimatedProduction);\n\n    formData.append(\"elevation\", values.elevation);\n    formData.append(\"unit\", values.unit);\n    formData.append(\"files\", files);\n    formData.append(\"fileName\", files.name);\n    UserService.addSupplier(formData).then(showResults(\"Data has been added\"));\n    setPindah(true); // if (\n    //   values.nama_supplier != null &&\n    //   values.lokasi_supplier != null &&\n    //   values.nama_petani != null &&\n    //   lat != \"\" &&\n    //   long != \"\" &&\n    //   values.estimatedProduction != null &&\n    //   values.elevation != null &&\n    //   values.unit != null &&\n    //   files != \"\"\n    // ) {\n    //   formData.append(\"nama_supplier\", values.nama_supplier);\n    //   formData.append(\"lokasi_supplier\", values.lokasi_supplier);\n    //   formData.append(\"nama_petani\", values.nama_petani);\n    //   formData.append(\"latitude\", lat);\n    //   formData.append(\"longitude\", long);\n    //   formData.append(\"link_maps\", values.linkMaps);\n    //   formData.append(\"estimatedProduction\", values.estimatedProduction);\n    //   formData.append(\"elevation\", values.elevation);\n    //   formData.append(\"unit\", values.unit);\n    //   formData.append(\"files\", files);\n    //   formData.append(\"fileName\", files.name);\n    //   UserService.addSupplier(formData).then(showResults(\"Data has been added\"));\n    //   setPindah(true);\n    // } else {\n    //   showResults(\"Please fill all the fields\");\n    // }\n  };\n\n  if (pindah === true) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/listSupplier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(DaftarSupplierForm, {\n        onSubmit: handleSubmit,\n        onSelectImage: onFileChange,\n        onSelectLat: onLatChange,\n        onSelectLong: onLongChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(DaftarSupplier, \"ibJ2i8Z6Wsg9WsyQZ1auw0KtISE=\");\n\n_c = DaftarSupplier;\nexport default DaftarSupplier;\n\nvar _c;\n\n$RefreshReg$(_c, \"DaftarSupplier\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/Coffee-Traceability/src/components/Grosir/Supplier/DaftarSupplier.js"],"names":["Fragment","React","useState","DaftarSupplierForm","showResults","UserService","Redirect","DaftarSupplier","files","imageFile","lat","setLat","long","setLong","pindah","setPindah","onFileChange","file","onLatChange","latitude","onLongChange","longitude","handleSubmit","values","formData","FormData","console","log","append","nama_supplier","lokasi_supplier","nama_petani","parseFloat","linkMaps","elevation","unit","name","addSupplier","then"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,KAAnB,EAA0BC,QAA1B,QAA0C,OAA1C;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,KAAD,EAAQC,SAAR,IAAqBP,QAAQ,CAAC,EAAD,CAAnC;AAEA,QAAM,CAACQ,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,KAAD,CAApC;;AAEA,QAAMc,YAAY,GAAIC,IAAD,IAAU;AAC7BR,IAAAA,SAAS,CAACQ,IAAD,CAAT;AACD,GAFD;;AAIA,QAAMC,WAAW,GAAIC,QAAD,IAAc;AAChCR,IAAAA,MAAM,CAACQ,QAAD,CAAN;AACD,GAFD;;AAIA,QAAMC,YAAY,GAAIC,SAAD,IAAe;AAClCR,IAAAA,OAAO,CAACQ,SAAD,CAAP;AACD,GAFD;;AAIA,QAAMC,YAAY,GAAIC,MAAD,IAAY;AAC/B,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBJ,MAAzB;AAEAC,IAAAA,QAAQ,CAACI,MAAT,CAAgB,eAAhB,EAAiCL,MAAM,CAACM,aAAxC;AACAL,IAAAA,QAAQ,CAACI,MAAT,CAAgB,iBAAhB,EAAmCL,MAAM,CAACO,eAA1C;AACAN,IAAAA,QAAQ,CAACI,MAAT,CAAgB,aAAhB,EAA+BL,MAAM,CAACQ,WAAtC,EAN+B,CAO/B;AACA;;AACAP,IAAAA,QAAQ,CAACI,MAAT,CAAgB,UAAhB,EAA4BI,UAAU,CAACT,MAAM,CAACJ,QAAR,CAAtC;AACAK,IAAAA,QAAQ,CAACI,MAAT,CAAgB,WAAhB,EAA6BI,UAAU,CAACT,MAAM,CAACF,SAAR,CAAvC;AACAG,IAAAA,QAAQ,CAACI,MAAT,CAAgB,WAAhB,EAA6BL,MAAM,CAACU,QAApC,EAX+B,CAa/B;AACA;;AAEAT,IAAAA,QAAQ,CAACI,MAAT,CAAgB,WAAhB,EAA6BL,MAAM,CAACW,SAApC;AACAV,IAAAA,QAAQ,CAACI,MAAT,CAAgB,MAAhB,EAAwBL,MAAM,CAACY,IAA/B;AAEAX,IAAAA,QAAQ,CAACI,MAAT,CAAgB,OAAhB,EAAyBpB,KAAzB;AACAgB,IAAAA,QAAQ,CAACI,MAAT,CAAgB,UAAhB,EAA4BpB,KAAK,CAAC4B,IAAlC;AAEA/B,IAAAA,WAAW,CAACgC,WAAZ,CAAwBb,QAAxB,EAAkCc,IAAlC,CAAuClC,WAAW,CAAC,qBAAD,CAAlD;AAEAW,IAAAA,SAAS,CAAC,IAAD,CAAT,CAxB+B,CA0B/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACD,GAxDD;;AA0DA,MAAID,MAAM,KAAK,IAAf,EAAqB;AAEnB,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAAP;AAED,GAJD,MAIO;AACL,wBACE,QAAC,QAAD;AAAA,6BACE,QAAC,kBAAD;AACE,QAAA,QAAQ,EAAEQ,YADZ;AAEE,QAAA,aAAa,EAAEN,YAFjB;AAGE,QAAA,WAAW,EAAEE,WAHf;AAIE,QAAA,YAAY,EAAEE;AAJhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAWD;AACF,CA9FD;;GAAMb,c;;KAAAA,c;AAgGN,eAAeA,cAAf","sourcesContent":["import { Fragment, React, useState } from \"react\";\nimport DaftarSupplierForm from \"./DaftarSupplierForm\";\nimport showResults from \"../../showResults/showResults\";\nimport UserService from \"../../../services/user.service\";\nimport { Redirect } from \"react-router-dom\";\n\nconst DaftarSupplier = () => {\n  const [files, imageFile] = useState(\"\");\n\n  const [lat, setLat] = useState(\"\");\n  const [long, setLong] = useState(\"\");\n  const [pindah, setPindah] = useState(false);\n\n  const onFileChange = (file) => {\n    imageFile(file);\n  };\n\n  const onLatChange = (latitude) => {\n    setLat(latitude);\n  };\n\n  const onLongChange = (longitude) => {\n    setLong(longitude);\n  };\n\n  const handleSubmit = (values) => {\n    const formData = new FormData();\n    console.log('cek values',values);\n\n    formData.append(\"nama_supplier\", values.nama_supplier);\n    formData.append(\"lokasi_supplier\", values.lokasi_supplier);\n    formData.append(\"nama_petani\", values.nama_petani);\n    // formData.append(\"latitude\", values.latitude);\n    // formData.append(\"longitude\", values.longitude);\n    formData.append(\"latitude\", parseFloat(values.latitude));\n    formData.append(\"longitude\", parseFloat(values.longitude));\n    formData.append(\"link_maps\", values.linkMaps);\n\n    // kopi ketjil minta inputan ini dihilangkan karena tidak perlu\n    // formData.append(\"estimatedProduction\", values.estimatedProduction);\n\n    formData.append(\"elevation\", values.elevation);\n    formData.append(\"unit\", values.unit);\n\n    formData.append(\"files\", files);\n    formData.append(\"fileName\", files.name);\n\n    UserService.addSupplier(formData).then(showResults(\"Data has been added\"));\n\n    setPindah(true);\n\n    // if (\n    //   values.nama_supplier != null &&\n    //   values.lokasi_supplier != null &&\n    //   values.nama_petani != null &&\n    //   lat != \"\" &&\n    //   long != \"\" &&\n    //   values.estimatedProduction != null &&\n    //   values.elevation != null &&\n    //   values.unit != null &&\n    //   files != \"\"\n    // ) {\n    //   formData.append(\"nama_supplier\", values.nama_supplier);\n    //   formData.append(\"lokasi_supplier\", values.lokasi_supplier);\n    //   formData.append(\"nama_petani\", values.nama_petani);\n    //   formData.append(\"latitude\", lat);\n    //   formData.append(\"longitude\", long);\n    //   formData.append(\"link_maps\", values.linkMaps);\n    //   formData.append(\"estimatedProduction\", values.estimatedProduction);\n    //   formData.append(\"elevation\", values.elevation);\n    //   formData.append(\"unit\", values.unit);\n\n    //   formData.append(\"files\", files);\n    //   formData.append(\"fileName\", files.name);\n\n    //   UserService.addSupplier(formData).then(showResults(\"Data has been added\"));\n\n    //   setPindah(true);\n    // } else {\n    //   showResults(\"Please fill all the fields\");\n    // }\n  };\n\n  if (pindah === true) {\n\n    return <Redirect to=\"/listSupplier\" />;\n\n  } else {\n    return (\n      <Fragment>\n        <DaftarSupplierForm\n          onSubmit={handleSubmit}\n          onSelectImage={onFileChange}\n          onSelectLat={onLatChange}\n          onSelectLong={onLongChange}\n        />\n      </Fragment>\n    );\n\n  }\n};\n\nexport default DaftarSupplier;\n"]},"metadata":{},"sourceType":"module"}