{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/Coffee-Traceability/src/components/Roaster/Roaster/Roasting/EditRoasting.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState } from \"react\";\nimport EditRoastingForm from \"./EditRoastingForm\";\nimport showResults from \"../../../showResults/showResults\";\nimport UserService from \"../../../../services/user.service\";\nimport { useParams } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditRoasting = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [roastingFile, setRoastingFile] = useState(\"\");\n  const [filesGambar, imageFileGambar] = useState(\"\");\n\n  const onFileChangeGambar = file => {\n    imageFileGambar(file);\n  };\n\n  const handleSubmit = async values => {\n    const formData = new FormData();\n\n    if (values.roastingName != null) {\n      formData.append(\"roasting_name\", values.roastingName);\n    }\n\n    if (values.roastingCupping != null) {\n      formData.append(\"cupping_id\", values.roastingCupping);\n    }\n\n    if (values.roastingProfile != null) {\n      formData.append(\"roasting_profile_id\", values.roastingProfile);\n    }\n\n    if (values.flavorNote != null) {\n      formData.append(\"flavor_note\", values.flavorNote);\n    }\n\n    if (values.acidity != null) {\n      formData.append(\"acidity\", values.acidity);\n    }\n\n    if (values.intensity != null) {\n      formData.append(\"intensity\", values.intensity);\n    }\n\n    if (values.tgl_roasting != null) {\n      formData.append(\"tgl_roasting\", values.tgl_roasting);\n    }\n\n    if (values.sku != null) {\n      formData.append(\"sku\", values.sku);\n    }\n\n    if (values.roaster_name != null) {\n      formData.append(\"roaster_name\", values.roaster_name);\n    }\n\n    if (values.bean != null) {\n      formData.append(\"bean_id\", values.bean);\n    }\n\n    if (roastingFile != undefined) {\n      formData.append(\"roastingFile\", roastingFile);\n      formData.append(\"roastingFileName\", roastingFile.name); // for (let i = 0; i < roastingFile.length; i++) {\n      //   formData.append(\"roastingFile[]\", roastingFile[i]);\n      // }\n    }\n\n    if (filesGambar != \"\") {\n      formData.append(\"files_gambar\", filesGambar);\n      formData.append(\"fileName_gambar\", filesGambar.name);\n    }\n\n    UserService.editRoastingProduct(id, formData);\n    showResults(\"Data has been changed\");\n  };\n\n  const onRoastingChange = file => {\n    setRoastingFile(file);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(EditRoastingForm, {\n      onSubmit: handleSubmit,\n      roastingID: id,\n      onSelectRoasting: onRoastingChange,\n      onSelectImageGambar: onFileChangeGambar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditRoasting, \"y3Yld/nOHWJXmh2mLM/snXzagck=\", false, function () {\n  return [useParams];\n});\n\n_c = EditRoasting;\nexport default EditRoasting;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditRoasting\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/Coffee-Traceability/src/components/Roaster/Roaster/Roasting/EditRoasting.js"],"names":["Fragment","useState","EditRoastingForm","showResults","UserService","useParams","EditRoasting","id","roastingFile","setRoastingFile","filesGambar","imageFileGambar","onFileChangeGambar","file","handleSubmit","values","formData","FormData","roastingName","append","roastingCupping","roastingProfile","flavorNote","acidity","intensity","tgl_roasting","sku","roaster_name","bean","undefined","name","editRoastingProduct","onRoastingChange"],"mappings":"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","sourcesContent":["import { Fragment, useState } from \"react\";\nimport EditRoastingForm from \"./EditRoastingForm\";\nimport showResults from \"../../../showResults/showResults\";\nimport UserService from \"../../../../services/user.service\";\nimport { useParams } from \"react-router\";\n\nconst EditRoasting = () => {\n  const { id } = useParams();\n\n  const [roastingFile, setRoastingFile] = useState(\"\");\n  const [filesGambar, imageFileGambar] = useState(\"\");\n\n  const onFileChangeGambar = (file) => {\n    imageFileGambar(file);\n  };\n\n  const handleSubmit = async (values) => {\n    const formData = new FormData();\n    \n    if (values.roastingName != null) {\n      formData.append(\"roasting_name\", values.roastingName);\n    }\n    if (values.roastingCupping != null) {\n      formData.append(\"cupping_id\", values.roastingCupping);\n    }\n    if (values.roastingProfile != null) {\n      formData.append(\"roasting_profile_id\", values.roastingProfile);\n    }\n    if (values.flavorNote != null) {\n      formData.append(\"flavor_note\", values.flavorNote);\n    }\n    if (values.acidity != null) {\n      formData.append(\"acidity\", values.acidity);\n    }\n    if (values.intensity != null) {\n      formData.append(\"intensity\", values.intensity);\n    }\n    if (values.tgl_roasting != null) {\n      formData.append(\"tgl_roasting\", values.tgl_roasting);\n    }\n    if (values.sku != null) {\n      formData.append(\"sku\", values.sku);\n    }\n    if (values.roaster_name != null) {\n      formData.append(\"roaster_name\", values.roaster_name);\n    }\n    if (values.bean != null) {\n      formData.append(\"bean_id\", values.bean);\n    }\n    if (roastingFile != undefined) {\n      formData.append(\"roastingFile\", roastingFile);\n      formData.append(\"roastingFileName\", roastingFile.name);\n      // for (let i = 0; i < roastingFile.length; i++) {\n      //   formData.append(\"roastingFile[]\", roastingFile[i]);\n      // }\n    }\n    if (filesGambar != \"\") {\n      formData.append(\"files_gambar\", filesGambar);\n      formData.append(\"fileName_gambar\", filesGambar.name);\n    }\n\n    UserService.editRoastingProduct(id, formData);\n    showResults(\"Data has been changed\");\n  };\n\n  const onRoastingChange = (file) => {\n    setRoastingFile(file);\n  };\n\n  return (\n    <Fragment>\n      <EditRoastingForm\n        onSubmit={handleSubmit}\n        roastingID={id}\n        onSelectRoasting={onRoastingChange}\n        onSelectImageGambar={onFileChangeGambar}\n      />\n    </Fragment>\n  );\n};\n\nexport default EditRoasting;\n"]},"metadata":{},"sourceType":"module"}